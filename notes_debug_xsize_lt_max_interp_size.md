

Line No | xmin, xsize


Option: 1e-5

12 | 324, 2
k: 2260 14124
13 | 351, 2
k: 1130 15254
14 | 405, 2             xmin=405 <---> xmin = i * stride = i * 3 * 9 => i = 15
k: 16384 0              16384 = w * (1 << 14) => w = 1.0
15 | 432, 2
k: 15254 1130
16 | 459, 2
k: 14124 2260
17 | 486, 2
k: 12994 3390
18 | 513, 2
k: 11864 4520


Option: bug

12 | 324, 2
k: 2260 14124
13 | 351, 2
k: 1130 15254
14 | 378, 3
k: 0 16384 -6780
15 | 432, 2
k: 15254 1130
16 | 459, 2
k: 14124 2260
17 | 486, 2
k: 12994 3390
18 | 513, 2
k: 11864 4520


Option: xisze = min(xsize, max_interp_size)

12 | 324, 2                 i=12
k: 2260 14124               w0=0.137939453125, w1=0.862060546875
13 | 351, 2                 i=13
k: 1130 15254               w0=0.0689697265625, w1=0.9310302734375
14 | 378, 2                 xmin=378 <---> xmin = i * stride = i * 3 * 9 => i = 14
k: 0 16384                  16384 = w * (1 << 14) => w = 1.0
15 | 432, 2                 i=16
k: 15254 1130               w0=0.9310302734375
16 | 459, 2                 i=17
k: 14124 2260               w0=0.862060546875
17 | 486, 2                 i=18
k: 12994 3390               w0=0.7930908203125
18 | 513, 2                 i=19
k: 11864 4520               w0=0.72412109375



F32: 12 | 12, 13
F32: lambda0,lambda1: 0.137931, 0.862069
F32: 13 | 13, 14
F32: lambda0,lambda1: 0.068965, 0.931035
F32: 14 | 15, 16
F32: lambda0,lambda1: 0.999999, 9.53674e-07
F32: 15 | 16, 17
F32: lambda0,lambda1: 0.931034, 0.0689659
F32: 16 | 17, 18
F32: lambda0,lambda1: 0.862068, 0.137932
F32: 17 | 18, 19
F32: lambda0,lambda1: 0.793102, 0.206898
F32: 18 | 19, 20
F32: lambda0,lambda1: 0.724136, 0.275864



both options: 1e-5 and xsize=min(...) lead to the same index/weights values:

# Option: xsize = min(xsize, max_interp_size)
14 | 378, 2                 xmin=378 <---> xmin = i * stride = i * 3 * 9 => i = 14
k: 0 16384                  16384 = w * (1 << 14) => w = 1.0

=> i=14, w=0 and i=15, w=1

and

# Option: 1e-5
14 | 405, 2             xmin=405 <---> xmin = i * stride = i * 3 * 9 => i = 15
k: 16384 0              16384 = w * (1 << 14) => w = 1.0

=> i=15, w=1 and i=16, w=0